name: small
description: manage function execution
phases:
  Ssh:
    description: Check if Node are SSH reachable
    node: node.bastion
    fn: CheckSshAccess
    param:
      - node.all

  AlignDistro:
    description: Upgrade native OS packages and repositories to version latest
    node: node.all
    fn: AlignDistro
    dependency:
      - Ssh

  AlignPkg:
    description: Provision required/missing native standard OS packages
    node: node.all
    fn: UpdateNativePkg
    param:
      - onpm.pkg.node
    dependency:
      - AlignDistro

  Path:
    description: Configure PATH envvar into current user's custom RC file
    node: node.cp
    fn: SetPath
    param:
      - file.binf
      - file.crc
    dependency:
      - AlignPkg

  NativeRepo:
    description: Provision native OS package repository(ies)
    node: node.all
    fn: InstallRepo
    param:
      - onmp.repo.node
    dependency:
      - AlignPkg

  KModule:
    description: Load Os Kernel modules
    node: node.all
    fn: LoadKModule
    dependency:
      - AlignPkg
