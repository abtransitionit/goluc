name: ovh
description: manage OVH objects
phases:

  ListInfo:
    description: display informations on OVH API
    node: node.local
    fn: ListInfo

  InstallVpsImage:
    description: Re-install the same OS image on a OVH Vps
    node: node.o1u
    fn: InstallVpsImage
    dependency: 
      - ListInfo

  WaitIsOnline:
    description: Check a node is ssh reachable from a host (after a possible reboot) within a delay
    node: node.bastion
    fn: WaitIsOnline
    param: 
      - node.o1u
      - ssh.delay
    dependency:
      - InstallVpsImage
